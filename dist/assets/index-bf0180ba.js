var h=Object.defineProperty;var f=(o,e,s)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var n=(o,e,s)=>(f(o,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();const m=o=>({x:o.clientX,y:o.clientY}),d=()=>({width:window.innerWidth,height:window.innerHeight}),g=()=>navigator.userAgent.toLowerCase().indexOf("firefox")>-1;let c={x:0,y:0};const a=o=>{c=m(o)};window.addEventListener("mousemove",a);window.addEventListener("pointermove",a,{passive:!0});let u=d();window.addEventListener("resize",o=>{u=d()});class p{constructor(e){n(this,"DOM",{el:null,inner:null,cells:null});n(this,"cellSize");n(this,"rows");n(this,"columns");n(this,"settings",{ttl:.2});this.DOM.el=e,this.DOM.inner=this.DOM.el.querySelector(".cursor__inner"),g()||(this.DOM.inner.style.filter="url(#gooey)"),this.settings.ttl=this.DOM.el.getAttribute("data-ttl")||this.settings.ttl,this.layout(),this.initEvents()}initEvents(){window.addEventListener("resize",()=>this.layout());const e=()=>{const s=this.getCellAtCursor();s===null||this.cachedCell===s||(this.cachedCell=s,gsap.set(s,{opacity:1}),gsap.set(s,{opacity:0,delay:this.settings.ttl}))};window.addEventListener("mousemove",e),window.addEventListener("pointermove",e,{passive:!0})}layout(){this.columns=getComputedStyle(this.DOM.el).getPropertyValue("--columns"),this.cellSize=u.width/this.columns,this.rows=Math.ceil(u.height/this.cellSize),this.cellsTotal=this.rows*this.columns;let e="";this.DOM.inner.innerHTML="";const s=this.DOM.el.getAttribute("data-custom-colors");let r,t=0;s&&(r=this.DOM.el.getAttribute("data-custom-colors").split(","),t=r?r.length:0);for(let i=0;i<this.cellsTotal;++i)e+=t===0?'<div class="cursor__inner-box"></div>':`<div style="transform: scale(${gsap.utils.random(.5,2)}); background:${r[Math.round(gsap.utils.random(0,t-1))]}" class="cursor__inner-box"></div>`;this.DOM.inner.innerHTML=e,this.DOM.cells=this.DOM.inner.children}getCellAtCursor(){const e=Math.floor(c.x/this.cellSize),r=Math.floor(c.y/this.cellSize)*this.columns+e;return r>=this.cellsTotal||r<0?(console.error("Cell index out of bounds"),null):this.DOM.cells[r]}}window.addEventListener("DOMContentLoaded",()=>{const o=document.querySelector(".cursor");console.log("hello"),new p(o)});
